<!DOCTYPE html>
<!-- Presentation/updateboekForm.twig -->
<html>
    <head>
        <meta charset="UTF-8">
        <title>Boeken</title>
        <style> 
            table { border-collapse: collapse; } 
            td, th { border: 1px solid black; padding: 3px; } 
            th { background-color: #ddd} 
        </style> 
    </head>
    <body>

        <h1>Boek bijwerken</h1>

        {% if error == "titelbestaat" %}
            <p style="color: red">Titel bestaat al!</p>
        {% endif%}

        <form method="post" action="updateboek.php?action=process&id={{boek.id}}">
            <table>
                <tr>
                    <td>Titel:</td>
                    <td>
                        <input type="text" name="txtTitel" value="{{boek.titel}}" />
                    </td>
                </tr>

                <tr>
                    <td>Genre:</td> 
                    <td>
                        <select name="selGenre">
                            {% for genre in genreLijst %}
                                {% set selWaarde="" %}              {# scope of vars in Twig ! #}
                                {% if (genre.id == boek.genre.id) %}
                                    {% set selWaarde = "selected" %}                                
                                {%endif%}

                                <option value="{{genre.id}}" {{selWaarde}} >
                                    {{genre.genreNaam}}
                                </option>
                            {% endfor%}
                        </select>
                    </td>
                </tr>

                <tr>
                    <td></td>
                    <td>
                        <input type="submit" value="Bijwerken" />
                    </td>
                </tr>
            </table>
        </form>

    </body>
</html>
